{"ast":null,"code":"import _slicedToArray from \"/Users/work/www/flatiron/mod-6/rts-labs/hacker-news-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/work/www/flatiron/mod-6/rts-labs/hacker-news-redux/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport SearchForm from \"./components/SearchForm\";\nimport SearchResults from \"./components/SearchResults\";\nimport \"./App.css\";\nconst API = \"http://hn.algolia.com/api/v1/search\";\nconst FRONT_PAGE_STORIES = \"\".concat(API, \"?tags=front_page\");\nconst LATEST_STORIES = \"\".concat(API, \"_by_date?tags=story\");\n\nconst App = () => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        stories = _useState2[0],\n        setStories = _useState2[1];\n\n  async function fetchStories(request) {\n    const res = await fetch(request);\n    res.json().then(res => setStories(res));\n  }\n\n  useEffect(() => {\n    fetchStories(FRONT_PAGE_STORIES);\n  }, []);\n\n  const search = query => {\n    fetchStories(\"\".concat(API, \"?query=\").concat(query, \"&tags=story&page=1\"));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(SearchForm, {\n    search: search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), stories.hits ? React.createElement(SearchResults, {\n    stories: stories,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }) : \"Loading\");\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/work/www/flatiron/mod-6/rts-labs/hacker-news-redux/src/App.js"],"names":["React","useState","useEffect","SearchForm","SearchResults","API","FRONT_PAGE_STORIES","LATEST_STORIES","App","stories","setStories","fetchStories","request","res","fetch","json","then","search","query","hits"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAO,WAAP;AAEA,MAAMC,GAAG,GAAG,qCAAZ;AACA,MAAMC,kBAAkB,aAAMD,GAAN,qBAAxB;AACA,MAAME,cAAc,aAAMF,GAAN,wBAApB;;AAEA,MAAMG,GAAG,GAAG,MAAM;AAAA,oBACcP,QAAQ,CAAC,EAAD,CADtB;AAAA;AAAA,QACTQ,OADS;AAAA,QACAC,UADA;;AAGhB,iBAAeC,YAAf,CAA4BC,OAA5B,EAAqC;AACnC,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAACF,OAAD,CAAvB;AACAC,IAAAA,GAAG,CAACE,IAAJ,GAAWC,IAAX,CAAgBH,GAAG,IAAIH,UAAU,CAACG,GAAD,CAAjC;AACD;;AAEDX,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,YAAY,CAACL,kBAAD,CAAZ;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMW,MAAM,GAAGC,KAAK,IAAI;AACtBP,IAAAA,YAAY,WAAIN,GAAJ,oBAAiBa,KAAjB,wBAAZ;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAED,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGR,OAAO,CAACU,IAAR,GAAe,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAEV,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAf,GAAqD,SAFxD,CADF;AAMD,CAtBD;;AAwBA,eAAeD,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchForm from \"./components/SearchForm\";\nimport SearchResults from \"./components/SearchResults\";\nimport \"./App.css\";\n\nconst API = \"http://hn.algolia.com/api/v1/search\";\nconst FRONT_PAGE_STORIES = `${API}?tags=front_page`;\nconst LATEST_STORIES = `${API}_by_date?tags=story`;\n\nconst App = () => {\n  const [stories, setStories] = useState({});\n\n  async function fetchStories(request) {\n    const res = await fetch(request);\n    res.json().then(res => setStories(res));\n  }\n\n  useEffect(() => {\n    fetchStories(FRONT_PAGE_STORIES);\n  }, []);\n\n  const search = query => {\n    fetchStories(`${API}?query=${query}&tags=story&page=1`);\n  };\n\n  return (\n    <div>\n      <SearchForm search={search} />\n      {stories.hits ? <SearchResults stories={stories} /> : \"Loading\"}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}